## GIT

Репозиторий посвящен изучению системы контроля версий Git. Здесь собраны примеры, конспекты и обучающие материалы из различных источников:

- Открытый курс Яндекса по Git
- Официальная документация Git
- Другие открытые образовательные ресурсы

### Основные команды Bash

| Команда       | Синтаксис                          | Описание                                                                 |
|---------------|------------------------------------|--------------------------------------------------------------------------|
| `pwd`         | `pwd`                              | Показать путь к текущей папке                                           |
| `cd`          | `cd путь/к/папке`                 | Сменить директорию                                                      |
| `cd ~`        | `cd ~`                             | Перейти в домашнюю директорию                                           |
| `cd ..`       | `cd ..`                            | Подняться на уровень выше                                               |
| `ls`          | `ls`                               | Показать содержимое текущей директории                                  |
| `ls -a`       | `ls -a`                            | Показать все файлы (включая скрытые)                                    |
| `ls -la`      | `ls -la`                           | Показать подробный список всех файлов                                   |
| `touch`       | `touch имя_файла`                  | Создать новый файл                                                      |
| `mv`          | `mv старое_имя новое_имя`         | Переименовать или переместить файл                                      |
| `mkdir`       | `mkdir имя_папки`                  | Создать новую директорию                                                |
| `mkdir -p`    | `mkdir -p путь/к/папке`           | Создать иерархию директорий                                             |
| `rmdir`       | `rmdir имя_папки`                  | Удалить пустую директорию                                               |
| `rm`         | `rm имя_файла`                     | Удаляет файл из файловой системы (не отслеживается Git)                 |
| `rm -r`      | `rm -r имя_папки`                  | Удаляет директорию с содержимым из файловой системы                     |
| `git rm`     | `git rm имя_файла`                 | Удаляет файл из индекса Git и файловой системы (готовит к коммиту)      |
| `git rm -r`  | `git rm -r имя_папки`              | Удаляет директорию из индекса Git и файловой системы (готовит к коммиту) |
| `cp`          | `cp файл папка/`                   | Скопировать файл                                                        |
| `cp -r`       | `cp -r папка папка/`               | Скопировать папку рекурсивно                                            |
| `cat`         | `cat файл`                         | Показать содержимое файла                                               |
| `less`        | `less файл`                        | Просматривать файл постранично                                          |
| `head`        | `head файл`                        | Показать первые 10 строк файла                                          |
| `tail`        | `tail файл`                        | Показать последние 10 строк файла                                       |

### Основные команды Git

| Команда               | Синтаксис                          | Описание                                                                 |
|-----------------------|------------------------------------|--------------------------------------------------------------------------|
| `git init`            | `git init`                         | Инициализировать новый репозиторий                                       |
| `git status`          | `git status`                       | Показать состояние рабочей области                                       |
| `git add`             | `git add файл`                     | Добавить файл в индекс                                                   |
| `git commit -m`       | `git commit -m "сообщение"`        | Создать коммит с описанием                                               |
| `git commit -a`       | `git commit -a`        | Создать коммит с добавлением всех отслеживаемых файлов. Новые файлы untracked будут пропущены
| `git log`             | `git log`                          | Показать историю коммитов                                                |
| `git switch`          | `git switch ветка`                 | Переключиться на указанную ветку                                         |

### Просмотр истории коммитов

| Команда               | Синтаксис                          | Описание                                                                 |
|-----------------------|------------------------------------|--------------------------------------------------------------------------|
| `git log --oneline`   | `git log --oneline`                | Краткая история (хеш + сообщение)                                        |
| `git log -p`          | `git log -p`                       | История с изменениями в коде                                             |
| `git log --graph`     | `git log --graph`                  | История с визуализацией ветвления                                        |
| `git show`            | `git show хеш`                     | Показать изменения конкретного коммита                                   |

### Изменение коммитов

| Команда                           | Синтаксис                                  | Описание                                                                 |
|-----------------------------------|--------------------------------------------|--------------------------------------------------------------------------|
| `git commit --amend --no-edit`    | `git commit --amend --no-edit`             | Добавить изменения к последнему коммиту                                  |
| `git commit --amend -m`           | `git commit --amend -m "Новое сообщение"`  | Изменить сообщение последнего коммита                                    |

### Работа с ветками

| Команда               | Синтаксис                          | Описание                                                                 |
|-----------------------|------------------------------------|--------------------------------------------------------------------------|
| `git branch`          | `git branch --all`                 | Показать все ветки                                                       |
| `git branch`          | `git branch новая_ветка`           | Создать новую ветку                                                      |
| `git push -d`         | `git push origin -d ветка`         | Удалить ветку в удалённом репозитории                                   |
| `git branch -d`       | `git branch -d ветка`              | Удалить локальную ветку                                                  |
| `git merge`           | `git merge ветка`                  | Влить изменения из указанной ветки                                       |

### Откат изменений

| Область действия          | Команда                       | Синтаксис                          | Описание                                                                 | Когда использовать |
|---------------------------|-------------------------------|------------------------------------|--------------------------------------------------------------------------|-------------------|
| **Рабочая директория**    | `git restore`                 | `git restore файл`                 | Откатить изменения в файле до последнего коммита                         | Файлы изменены, но не проиндексированы |
|                           | `git restore .`               | `git restore .`                    | Откатить все изменения в текущей директории                              | Множественные изменения в рабочей директории |
| **Индекс (Staging)**      | `git restore --staged`        | `git restore --staged файл`        | Убрать файл из индекса                                                   | Файл проиндексирован ошибочно |
|                           | `git restore --staged .`      | `git restore --staged .`           | Убрать все файлы из индекса                                              | Очистить весь индекс |
|                           | `git reset`                   | `git reset`                        | **Сбросить весь индекс** (сохраняя изменения в папке)                    | Быстрая очистка индекса |
|                           | `git reset файл`              | `git reset файл`                   | **Убрать файл из индекса**                                               | Точечное удаление из индекса |
| **Коммиты**               | `git reset --soft`            | `git reset --soft HEAD~1`          | Откат коммита с сохранением изменений в индексе                          | Переделать последний коммит |
|                           | `git reset --mixed`           | `git reset --mixed HEAD~1`         | Откат коммита с сохранением изменений в рабочей директории (по умолчанию) | Переделать коммит с нуля |
|                           | `git reset --hard`            | `git reset --hard`                 | **Вернуть к состоянию последнего коммита** (удалить все изменения)       | Полностью отказаться от изменений |
|                           | `git reset`                   | `git reset HEAD~1`                 | **Отменить последний коммит** (сохраняя изменения)                       | Переделать последний коммит |
|                           | `git reset`                   | `git reset HEAD^`                  | **Эквивалент HEAD~1**                                                    | Альтернативный синтаксис |
|                           | `git reset`                   | `git reset HEAD~2`                 | **Отменить последние 2 коммита**                                         | Откат нескольких коммитов |
|                           | `git reset`                   | `git reset HEAD^^`                 | **Эквивалент HEAD~2**                                                    | Альтернативный синтаксис |
|                           | `git reset`                   | `git reset HEAD~3`                 | **Отменить последние 3 коммита**                                         | Откат нескольких коммитов |
|                           | `git reset`                   | `git reset HEAD^^^`                | **Эквивалент HEAD~3**                                                    | Альтернативный синтаксис |
|                           | `git reset --hard`            | `git reset --hard HEAD~2`          | **Отменить последние 2 коммита** (удаляя изменения)                      | Полный откат нескольких коммитов |
|                           | `git revert`                  | `git revert хеш_коммита`           | Создать новый коммит, отменяющий изменения                               | Безопасная отмена в публичных репозиториях |
|                           | `git revert`                  | `git revert хеш_коммита..хеш_коммита`           | Оетменить диапазон коммитов. Нужно указать хеш начального коммита, две точки и хеш конечного коммита                               | Безопасная отмена в публичных репозиториях |
| **Восстановление**        | `git reflog`                  | `git reflog`                       | Показать историю всех перемещений HEAD                                   | Поиск утерянных коммитов |
|                           | `git reset ORIG_HEAD`         | `git reset ORIG_HEAD --hard`       | **Вернуться к коммиту, на который указывает ORIG_HEAD**                  | После ошибочного `reset --hard` |
|                           | `git reset --hard`            | `git reset --hard <commit_id>`     | **Вернуться к состоянию после указанного коммита**                       | Откат к конкретному коммиту |
| **Диагностика**           | `cat ORIG_HEAD`               | `cat .git/ORIG_HEAD`               | **Вывести предыдущее значение HEAD**                                     | Просмотр предыдущего состояния |

### 🔧 Режимы reset: --hard/--soft/--mixed

| Режим     | Влияние на Working Directory | Влияние на Staging Area (Index) | Влияние на Commit History | Использование |
|-----------|-----------------------------|--------------------------------|---------------------------|---------------|
| **`--soft`** | ❌ Не изменяет              | ❌ Не изменяет                 | ✅ Откатывает HEAD        | Перекоммит с исправлениями |
| **`--mixed`** | ❌ Не изменяет              | ✅ Сбрасывает изменения        | ✅ Откатывает HEAD        | Перекоммит с нуля (по умолчанию) |
| **`--hard`** | ✅ Удаляет все изменения    | ✅ Сбрасывает индекс           | ✅ Откатывает HEAD        | Полный откат |

**Наглядное представление:**


### Просмотр изменений

| Команда               | Синтаксис                          | Описание                                                                 |
|-----------------------|------------------------------------|--------------------------------------------------------------------------|
| `git diff`            | `git diff`                         | Показать изменения в рабочей директории                                 |
| `git diff коммит1 коммит2` | `git diff хеш1 хеш2`         | Показать разницу между коммитами                                       |
| `git diff --staged`   | `git diff --staged`                | Показать изменения в staged-файлах                                      |

### Работа с удалёнными репозиториями

| Команда               | Синтаксис                          | Описание                                                                 |
|-----------------------|------------------------------------|--------------------------------------------------------------------------|
| `git remote`          | `git remote`                       | Показать список удалённых репозиториев                                  |
| `git remote -v`       | `git remote -v`                    | Показать удалённые репозитории с URL                                    |
| `git remote add`      | `git remote add имя URL`           | Добавить удалённый репозиторий                                          |
| `git clone`           | `git clone URL [папка]`            | Клонировать репозиторий                                                 |
| `git push`            | `git push имя_удалённого ветка`    | Отправить изменения                                                     |
| `git pull`            | `git pull имя_удалённого ветка`    | Получить изменения                                                      |
| `git fetch`           | `git fetch имя_удалённого`         | Получить информацию об изменениях                                       |

### Полезные советы

1. Всегда пишите осмысленные сообщения коммитов
2. Используйте `.gitignore` для исключения ненужных файлов
3. Перед слиянием проверяйте изменения (`git diff`)
4. Регулярно делайте `git pull` для синхронизации
5. Для сложных операций используйте `git rebase -i`
6. Осторожно с `git reset --hard` - это необратимая операция
7. Используйте `git log --graph` для наглядного просмотра истории

git test